(this["webpackJsonplidemy-week22-react-blog"]=this["webpackJsonplidemy-week22-react-blog"]||[]).push([[0],{35:function(n,e,t){"use strict";t.r(e);var r,o,c,i,a,b,s,d=t(2),p=t(1),x=t(20),j=t.n(x),l=t(5),u=t(7),f=t(4),h=t(3),O=Object(p.createContext)(null),g="token",m=function(n){localStorage.setItem(g,n)},v=function(){return localStorage.getItem(g)},w="@media (max-width: 768px)",k=t(0),z=h.b.nav(r||(r=Object(d.a)(["\n  height: 60px;\n  padding: 10px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 2px solid #d9d9d9;\n  background: white;\n\n  "," {\n    height: 120px;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n  }\n"])),w),y=h.b.div(o||(o=Object(d.a)(["\n  display: flex;\n  align-items: center;\n"]))),S=Object(h.b)(u.b)(c||(c=Object(d.a)(["\n  margin: 0 24px;\n  font-size: 30px;\n  font-weight: bold;\n  letter-spacing: 0.6px;\n  color: #3b3b3b;\n  text-decoration: none;\n\n  "," {\n    font-size: 22px;\n    margin: 0 4px;\n  }\n"])),w),C=Object(h.b)(u.b)(i||(i=Object(d.a)(["\n  cursor: pointer;\n  font-size: 18px;\n  color: #bdbdbd;\n  padding: 8px;\n  text-decoration: none;\n\n  &:hover {\n    color: #3b3b3b;\n  }\n\n  "," {\n    font-size: 14px;\n    padding: 8px 4px;\n  }\n\n  ","\n"])),w,(function(n){return n.$active&&"color: #3b3b3b"})),P=h.b.div(a||(a=Object(d.a)(["\n  padding: 0 8px;\n\n  "," {\n    margin-top: 28px;\n  }\n"])),w),E=Object(h.b)(u.b)(b||(b=Object(d.a)(["\n  cursor: pointer;\n  font-size: 18px;\n  border: 1px solid #000000;\n  border-radius: 5px;\n  color: #333333;\n  padding: 8px 20px;\n  margin-right: 8px;\n  text-decoration: none;\n\n  &:hover {\n    color: #ffa286;\n    background: #333745;\n  }\n\n  "," {\n    font-size: 16px;\n  }\n"])),w),F=Object(h.b)(E)(s||(s=Object(d.a)(["\n  cursor: pointer;\n  font-size: 18px;\n  border: 1px solid #000000;\n  border-radius: 5px;\n  color: #ffffff;\n  padding: 8px 20px;\n  margin-right: 8px;\n  text-decoration: none;\n  background: #333745;\n"])));function A(){var n=Object(f.g)(),e=Object(f.f)(),t=Object(p.useContext)(O),r=t.user,o=t.setUser;return Object(k.jsxs)(z,{children:[Object(k.jsxs)(y,{children:[Object(k.jsx)(S,{to:"/",children:"\u6a5f\u667a\u5de5\u7a0b\u5e2b\u751f\u6d3b"}),Object(k.jsx)(C,{to:"/",$active:"/"===n.pathname,children:"Home"}),Object(k.jsx)(C,{to:"/post-list/",$active:"/post-list/"===n.pathname,children:"Archive"}),Object(k.jsx)(C,{to:"/about",$active:"/about"===n.pathname,children:"About"})]}),Object(k.jsxs)(P,{children:[!r&&Object(k.jsx)(E,{to:"/login",$active:"/login"===n.pathname,children:"Log in"}),!r&&Object(k.jsx)(E,{to:"/register",$active:"/register"===n.pathname,children:"Register"}),r&&Object(k.jsx)(F,{to:"/post",$active:"/post"===n.pathname,children:"New post"}),r&&Object(k.jsx)(F,{onClick:function(){m(""),o(null),"/"!==n.pathname&&e.push("/")},children:"Sign out"})]})]})}var D,N,J,$,_,U,B,T,I="https://student-json-api.lidemy.me",M=function(){return fetch("".concat(I,"/posts?_sort=createdAt&_order=desc")).then((function(n){return n.json()}))},R=function(){var n=v();return fetch("".concat(I,"/me"),{headers:{authorization:"Bearer ".concat(n)}}).then((function(n){return n.json()}))},L=function(n,e){return fetch("".concat(I,"/posts?_page=").concat(n,"&_limit=").concat(e,"&_sort=createdAt&_order=desc")).then((function(n){return n.json()}))},H=h.b.form(D||(D=Object(d.a)(["\n  max-width: 350px;\n  margin: 130px auto;\n  padding: 20px 50px;\n  box-shadow: 0px 1px 10px rgba(0, 0, 0, 0.2);\n  border-radius: 4px;\n  background: #f7f5f5;\n  font-size: 18px;\n\n  "," {\n    margin-top: 180px;\n    margin-bottom: 100px;\n  }\n"])),w),Y=h.b.h2(N||(N=Object(d.a)(["\n  font-size: 40px;\n  font-weight: bold;\n  color: #3b3b3b;\n  margin: 0;\n  text-align: center;\n"]))),q=h.b.div(J||(J=Object(d.a)(["\n  margin-top: 18px;\n  font-size: 18px;\n  color: #f5002f;\n  text-align: center;\n"]))),G=h.b.div($||($=Object(d.a)(["\n  margin-top: 18px;\n  font-size: 18px;\n  color: white;\n  text-align: center;\n  visibility: hidden;\n"]))),K=h.b.div(_||(_=Object(d.a)(["\n  margin-top: 5px;\n  display: flex;\n  flex-direction: column;\n"]))),Q=h.b.h6(U||(U=Object(d.a)(["\n  margin: 10px 0;\n  font-size: 14px;\n"]))),V=h.b.input(B||(B=Object(d.a)(["\n  margin-bottom: 20px;\n  border: none;\n  padding: 8px;\n  width: 95%;\n\n  &:focus {\n    outline: none;\n  }\n"]))),W=h.b.button(T||(T=Object(d.a)(["\n  cursor: pointer;\n  font-size: 18px;\n  border: 1px solid #182f53;\n  border-radius: 5px;\n  color: #f7f5f5;\n  background: #182f53;\n  padding: 8px 20px;\n  text-decoration: none;\n  margin: 0 auto;\n\n  &:focus {\n    outline: none;\n  }\n\n  &:hover {\n    transform: scale(1.05);\n  }\n\n  &:active {\n    transform: translate(0, 0.2rem);\n  }\n"])));function X(){var n=Object(p.useContext)(O).setUser,e=Object(p.useState)(""),t=Object(l.a)(e,2),r=t[0],o=t[1],c=Object(p.useState)(""),i=Object(l.a)(c,2),a=i[0],b=i[1],s=Object(p.useState)(null),d=Object(l.a)(s,2),x=d[0],j=d[1],u=Object(f.f)(),h=function(){j(null)};return Object(k.jsxs)(H,{onSubmit:function(e){e.preventDefault(),function(n,e){return fetch("".concat(I,"/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:n,password:e})}).then((function(n){return n.json()}))}(r,a).then((function(e){if(0===e.ok)return j(e.message);var t=e.token;m(t),R().then((function(e){if(1!==e.ok)return m(null),j(e.toString());n(e.data),u.push("/")}))}))},children:[Object(k.jsx)(Y,{children:"Sign in"}),x?Object(k.jsx)(q,{children:x}):Object(k.jsx)(G,{children:"Error block"}),Object(k.jsxs)(K,{children:[Object(k.jsx)(Q,{children:"Username"}),Object(k.jsx)(V,{name:"account",type:"text",value:r,onChange:function(n){o(n.target.value)},onFocus:h}),Object(k.jsx)(Q,{children:"Password"}),Object(k.jsx)(V,{name:"password",type:"password",value:a,onChange:function(n){b(n.target.value)},onFocus:h}),Object(k.jsx)(W,{children:"Submit"})]})]})}var Z,nn,en,tn,rn,on,cn,an=t(11),bn=t.n(an),sn=h.b.div(Z||(Z=Object(d.a)(["\n  border: 0.5px solid #d9d9d9;\n  border-radius: 5px;\n  padding: 25px 25px;\n  margin-bottom: 20px;\n  background: white;\n"]))),dn=h.b.h5(nn||(nn=Object(d.a)(["\n  font-size: 16px;\n  color: #bdbdbd;\n  margin: 5px 0;\n"]))),pn=Object(h.b)(u.b)(en||(en=Object(d.a)(["\n  color: #3b3b3b;\n  font-size: 30px;\n  font-weight: 600;\n  letter-spacing: 0.5px;\n  text-decoration: none;\n  white-space: normal;\n  overflow-wrap: break-word;\n  overflow: hidden;\n"]))),xn=h.b.p(tn||(tn=Object(d.a)(["\n  margin: 24px 0;\n  color: #3b3b3b;\n  font-size: 20px;\n  letter-spacing: 0.3px;\n  line-height: 1.3;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  overflow-wrap: break-word;\n  display: -webkit-box;\n  -webkit-line-clamp: 3; //\u884c\u6578\n  -webkit-box-orient: vertical;\n"]))),jn=Object(h.b)(u.b)(rn||(rn=Object(d.a)(["\n  font-size: 15px;\n  color: #ffa286;\n  text-decoration: none;\n\n  &:hover {\n    border-bottom: 2px solid #050402;\n  }\n"])));function ln(n){var e=new Date(n);return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()}function un(n){var e=n.post,t=ln(e.createdAt);return Object(k.jsxs)(sn,{children:[Object(k.jsx)(dn,{children:t}),Object(k.jsx)(pn,{to:"/article/".concat(e.id),children:e.title}),Object(k.jsx)(xn,{children:e.body}),Object(k.jsx)(jn,{to:"/article/".concat(e.id),children:"Read more"})]})}un.propsTypes={post:bn.a.object};var fn,hn,On,gn,mn,vn,wn,kn,zn=h.b.div(on||(on=Object(d.a)([""]))),yn=h.b.div(cn||(cn=Object(d.a)(["\n  margin: 150px auto;\n  width: 50%;\n\n  "," {\n    margin-top: 180px;\n    width: 90%;\n  }\n"])),w);function Sn(){var n=Object(p.useState)([]),e=Object(l.a)(n,2),t=e[0],r=e[1];return Object(p.useEffect)((function(){M().then((function(n){return r(n)}))}),[]),Object(k.jsx)(zn,{children:Object(k.jsx)(yn,{children:t&&t.map((function(n){return Object(k.jsx)(un,{post:n},n.id)}))})})}var Cn=h.b.form(fn||(fn=Object(d.a)(["\n  max-width: 350px;\n  margin: 130px auto;\n  padding: 20px 50px;\n  box-shadow: 0px 1px 10px rgba(0, 0, 0, 0.2);\n  border-radius: 4px;\n  background: #f7f5f5;\n  font-size: 18px;\n\n  "," {\n    margin-top: 180px;\n    margin-bottom: 100px;\n  }\n"])),w),Pn=h.b.h2(hn||(hn=Object(d.a)(["\n  font-size: 40px;\n  font-weight: bold;\n  color: #3b3b3b;\n  margin: 0;\n  text-align: center;\n"]))),En=h.b.div(On||(On=Object(d.a)(["\n  margin-top: 18px;\n  font-size: 18px;\n  color: #f5002f;\n  text-align: center;\n"]))),Fn=h.b.div(gn||(gn=Object(d.a)(["\n  margin-top: 18px;\n  font-size: 18px;\n  color: white;\n  text-align: center;\n  visibility: hidden;\n"]))),An=h.b.div(mn||(mn=Object(d.a)(["\n  margin-top: 5px;\n  display: flex;\n  flex-direction: column;\n"]))),Dn=h.b.h6(vn||(vn=Object(d.a)(["\n  margin: 10px 0;\n  font-size: 14px;\n"]))),Nn=h.b.input(wn||(wn=Object(d.a)(["\n  margin-bottom: 20px;\n  border: none;\n  padding: 8px;\n  width: 95%;\n\n  &:focus {\n    outline: none;\n  }\n"]))),Jn=h.b.button(kn||(kn=Object(d.a)(["\n  cursor: pointer;\n  font-size: 18px;\n  border: 1px solid #182f53;\n  border-radius: 5px;\n  color: #f7f5f5;\n  background: #182f53;\n  padding: 8px 20px;\n  text-decoration: none;\n  margin: 0 auto;\n\n  &:focus {\n    outline: none;\n  }\n\n  &:hover {\n    transform: scale(1.05);\n  }\n\n  &:active {\n    transform: translate(0, 0.2rem);\n  }\n"])));function $n(){var n=Object(p.useContext)(O).setUser,e=Object(p.useState)(""),t=Object(l.a)(e,2),r=t[0],o=t[1],c=Object(p.useState)(""),i=Object(l.a)(c,2),a=i[0],b=i[1],s=Object(p.useState)(""),d=Object(l.a)(s,2),x=d[0],j=d[1],u=Object(p.useState)(null),h=Object(l.a)(u,2),g=h[0],v=h[1],w=Object(f.f)();return Object(k.jsxs)(Cn,{onSubmit:function(e){e.preventDefault(),function(n){var e=n.nickname,t=n.username,r=n.password;return fetch("".concat(I,"/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:e,username:t,password:r})}).then((function(n){return n.json()}))}({nickname:a,username:r,password:x}).then((function(e){if(0===e.ok)return v(e.message);var t=e.token;m(t),R().then((function(e){if(1!==e.ok)return m(null),v(e.toString());n(e.data),w.push("/")}))}))},children:[Object(k.jsx)(Pn,{children:"Register"}),g?Object(k.jsx)(En,{children:g}):Object(k.jsx)(Fn,{children:"Error block"}),Object(k.jsx)(Dn,{children:"Username"}),Object(k.jsx)(Nn,{name:"account",type:"text",value:r,onChange:function(n){o(n.target.value)}}),Object(k.jsxs)(An,{children:[Object(k.jsx)(Dn,{children:"Nickname"}),Object(k.jsx)(Nn,{name:"nickname",type:"text",value:a,onChange:function(n){b(n.target.value)}}),Object(k.jsx)(Dn,{children:"Password"}),Object(k.jsx)(Nn,{name:"password",type:"password",value:x,onChange:function(n){j(n.target.value)}}),Object(k.jsx)(Jn,{children:"Submit"})]})]})}var _n,Un,Bn,Tn,In,Mn,Rn,Ln,Hn,Yn,qn=t.p+"static/media/avatar.a27be39a.jpg",Gn=h.b.div(_n||(_n=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 30vh auto;\n  padding: 15px;\n  width: 50%;\n\n  "," {\n    margin: 20vh auto;\n    width: 90%;\n    flex-direction: column;\n    align-items: center;\n  }\n"])),w),Kn=h.b.h1(Un||(Un=Object(d.a)(["\n  color: #3b3b3b;\n  margin: 0;\n  font-weight: bold;\n\n  "," {\n    text-align: center;\n    margin-bottom: 15px;\n  }\n"])),w),Qn=h.b.p(Bn||(Bn=Object(d.a)(["\n  color: #525252;\n  font-size: 16px;\n  overflow-wrap: break-word;\n\n  "," {\n    text-align: left;\n  }\n"])),w),Vn=h.b.div(Tn||(Tn=Object(d.a)(["\n  width: 150px;\n  height: 150px;\n  margin: 28px;\n"]))),Wn=h.b.div(In||(In=Object(d.a)(["\n  width: 100%;\n  padding-bottom: 100%;\n  background: url(",") center / cover;\n"])),qn);function Xn(){return Object(k.jsxs)(Gn,{children:[Object(k.jsx)(Vn,{children:Object(k.jsx)(Wn,{})}),Object(k.jsxs)(Qn,{children:[Object(k.jsx)(Kn,{children:"\u95dc\u65bc\u6a5f\u667a\u5de5\u7a0b\u5e2b\u751f\u6d3b"}),"\u516d\u500b\u6708\u5168\u8077\u6295\u5165\u7db2\u9801\u524d\u7aef\u5b78\u7fd2\u7684\u6e96\u958b\u767c\u8005\u3002",Object(k.jsx)("br",{}),"\u64c1\u6709\u8de8\u51fa\u8212\u9069\u5708\u7684\u52c7\u6562\u57fa\u56e0\uff0c\u4ee5\u53ca\u5617\u8a66\u65b0\u4e8b\u7269\u7684\u597d\u5947\u8207\u71b1\u5ff1\u3002",Object(k.jsx)("br",{}),"\u76f8\u4fe1\u4eba\u751f\u53ca\u7a0b\u5f0f\u958b\u767c\u7684\u904e\u7a0b\u4e2d\uff0c",Object(k.jsx)("br",{}),"\u5927\u90e8\u5206\u7684\u554f\u984c\u90fd\u80fd\u900f\u904e\u300c\u62d3\u5c55\u770b\u5f85\u4e8b\u7269\u7684\u7bc4\u570d\u8ddf\u8996\u91ce\u300d\u4f86\u89e3\u6c7a\u3002"]})]})}var Zn,ne,ee,te,re,oe,ce,ie,ae,be,se=h.b.div(Mn||(Mn=Object(d.a)(["\n  border-radius: 5px;\n  padding: 25px 25px;\n  margin-bottom: 20px;\n  background: white;\n"]))),de=h.b.h5(Rn||(Rn=Object(d.a)(["\n  font-size: 16px;\n  color: #bdbdbd;\n  margin: 5px 0;\n"]))),pe=h.b.h2(Ln||(Ln=Object(d.a)(["\n  margin: 20px 0;\n  padding: 10px 0;\n  color: #3b3b3b;\n  font-size: 36px;\n  font-weight: bold;\n  letter-spacing: 0.5px;\n  text-decoration: none;\n  white-space: normal;\n  overflow-wrap: break-word;\n  overflow: hidden;\n  border-bottom: 1px solid #d9d9d9;\n\n  "," {\n    font-size: 30px;\n  }\n"])),w),xe=h.b.div(Hn||(Hn=Object(d.a)(["\n  margin: 10px 0;\n  padding: 2px 5px;\n  color: #3b3b3b;\n  font-size: 16px;\n  text-decoration: none;\n"]))),je=h.b.p(Yn||(Yn=Object(d.a)(["\n  margin: 24px 0;\n  color: #3b3b3b;\n  font-size: 20px;\n  letter-spacing: 0.3px;\n  line-height: 1.3;\n  word-wrap: break-word;\n"]))),le=h.b.div(Zn||(Zn=Object(d.a)([""]))),ue=h.b.div(ne||(ne=Object(d.a)(["\n  margin: 150px auto;\n  width: 60%;\n\n  "," {\n    margin-top: 180px;\n    width: 90%;\n  }\n"])),w);function fe(){var n=Object(p.useState)(null),e=Object(l.a)(n,2),t=e[0],r=e[1],o=Object(f.h)().id;return Object(p.useEffect)((function(){(function(n){return fetch("".concat(I,"/posts?id=").concat(n,"&_expand=user")).then((function(n){return n.json()}))})(o).then((function(n){return r(n[0])}))}),[o]),Object(k.jsx)(le,{children:Object(k.jsx)(ue,{children:Object(k.jsxs)(se,{children:[Object(k.jsx)(de,{children:t&&ln(t.createdAt)}),Object(k.jsx)(pe,{children:t&&t.title}),Object(k.jsxs)(xe,{children:["\u4f5c\u8005\uff1a",t&&t.user.username]}),Object(k.jsx)(je,{children:t&&t.body})]})})})}var he,Oe,ge,me=h.b.form(ee||(ee=Object(d.a)(["\n  width: 45%;\n  margin: 130px auto;\n  padding: 20px 50px;\n  box-shadow: 0px 1px 10px rgba(0, 0, 0, 0.2);\n  border-radius: 4px;\n  background: #f7f5f5;\n\n  "," {\n    width: 70%;\n    margin-top: 180px;\n  }\n"])),w),ve=h.b.div(te||(te=Object(d.a)(["\n  margin-top: 18px;\n  font-size: 18px;\n  color: #f5002f;\n  text-align: center;\n"]))),we=h.b.div(re||(re=Object(d.a)(["\n  margin-top: 18px;\n  font-size: 18px;\n  color: white;\n  text-align: center;\n  visibility: hidden;\n"]))),ke=h.b.div(oe||(oe=Object(d.a)(["\n  margin: 10px 0;\n  font-size: 22px;\n  font-weight: 300;\n"]))),ze=h.b.input(ce||(ce=Object(d.a)(["\n  font-size: 20px;\n  margin-bottom: 20px;\n  border: 1px solid rgba(0, 0, 0, 0.15);\n  padding: 10px;\n  width: 95%;\n  letter-spacing: 1.5px;\n"]))),ye=h.b.textarea(ie||(ie=Object(d.a)(["\n  width: 95%;\n  height: 200px;\n  padding: 10px;\n  border: 1px solid rgba(0, 0, 0, 0.15);\n  font-size: 18px;\n  letter-spacing: 1.5px;\n"]))),Se=h.b.div(ae||(ae=Object(d.a)(["\n  text-align: center;\n"]))),Ce=h.b.button(be||(be=Object(d.a)(["\n  cursor: pointer;\n  font-size: 18px;\n  border: 1px solid #182f53;\n  border-radius: 5px;\n  color: #f7f5f5;\n  background: #182f53;\n  padding: 8px 20px;\n  text-decoration: none;\n  margin: 10px auto;\n\n  &:focus {\n    outline: none;\n  }\n\n  &:hover {\n    transform: scale(1.05);\n  }\n\n  &:active {\n    transform: translate(0, 0.2rem);\n  }\n"])));function Pe(){var n=Object(p.useState)(),e=Object(l.a)(n,2),t=e[0],r=e[1],o=Object(p.useState)(),c=Object(l.a)(o,2),i=c[0],a=c[1],b=Object(p.useState)(null),s=Object(l.a)(b,2),d=s[0],x=s[1],j=Object(f.f)();return Object(k.jsxs)(me,{onSubmit:function(n){n.preventDefault(),function(n,e){var t=v();return fetch("".concat(I,"/posts"),{method:"POST",headers:{authorization:"Bearer ".concat(t),"content-type":"application/json"},body:JSON.stringify({title:n,body:e})}).then((function(n){return n.json()}))}(t,i).then((function(n){if(0===n.ok)return x(n.message);j.push("/")}))},children:[d?Object(k.jsx)(ve,{children:d}):Object(k.jsx)(we,{children:"Error Block"}),Object(k.jsx)(ke,{children:"\u6587\u7ae0\u4e3b\u984c"}),Object(k.jsx)(ze,{value:t,onChange:function(n){r(n.target.value)},onFocus:function(){x(null)}}),Object(k.jsx)(ke,{children:"\u6587\u7ae0\u5167\u5bb9"}),Object(k.jsx)(ye,{value:i,onChange:function(n){a(n.target.value)},onFocus:function(){x(null)}}),Object(k.jsx)(Se,{children:Object(k.jsx)(Ce,{children:"Submit"})})]})}var Ee,Fe,Ae,De,Ne,Je,$e,_e=h.b.div(he||(he=Object(d.a)([""]))),Ue=h.b.div(Oe||(Oe=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 8px;\n  margin-top: 20px;\n"]))),Be=h.b.button(ge||(ge=Object(d.a)(["\n  cursor: pointer;\n  border: 1px solid #555555;\n  border-radius: 50%;\n  padding: 8px 12px;\n  font-size: 16px;\n  outline: 0;\n  margin-right: 8px;\n\n  background: ",";\n\n  color: ",";\n\n  &:hover {\n    background: #333745;\n    color: #ffa286;\n  }\n"])),(function(n){return"selected"===n.className?"#333745":"#F5F5F5"}),(function(n){return"selected"===n.className?"#ffa286":"#333333"}));function Te(n){var e=n.setPosts,t=n.limit,r=n.totalPages,o=n.currentPage,c=n.setCurrentPage;return Object(k.jsx)(_e,{children:Object(k.jsx)(Ue,{children:r.current&&r.current.map((function(n){return Object(k.jsx)(Be,{onClick:function(){return function(n){L(n,t).then((function(n){return e(n)})),c(n)}(n)},className:o===n?"selected":"",children:n},n)}))})})}var Ie=h.b.div(Ee||(Ee=Object(d.a)(["\n  box-sizing: border-box;\n  width: 50%;\n  margin: 130px auto;\n  padding: 20px 50px;\n  box-shadow: 0px 1px 10px rgba(0, 0, 0, 0.2);\n  border-radius: 4px;\n  background: #f7f5f5;\n\n  "," {\n    margin-top: 180px;\n    margin-bottom: 100px;\n    width: 90%;\n  }\n"])),w),Me=h.b.h2(Fe||(Fe=Object(d.a)(["\n  text-align: center;\n  font-size: 28px;\n  font-weight: 700;\n  line-height: 3.5rem;\n  color: #3b3b3b;\n  border-bottom: 5px solid rgba(59, 59, 59, 0.2);\n"]))),Re=h.b.div(Ae||(Ae=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 28px 5px;\n  border-bottom: 1px solid #d9d9d9;\n\n  "," {\n    padding: 20px 5px;\n    margin-right: 10px;\n    flex-direction: column;\n    align-items: flex-start;\n  }\n"])),w),Le=Object(h.b)(u.b)(De||(De=Object(d.a)(["\n  width: 65%;\n  color: #3b3b3b;\n  font-size: 24px;\n  font-weight: 500;\n  letter-spacing: 0.5px;\n  text-decoration: none;\n  white-space: normal;\n  overflow-wrap: break-word;\n  overflow: hidden;\n\n  "," {\n    font-size: 20px;\n    width: 100%;\n  }\n"])),w),He=h.b.div(Ne||(Ne=Object(d.a)(["\n  display: flex;\n  align-items: center;\n\n  "," {\n    margin-top: 8px;\n  }\n"])),w),Ye=h.b.button(Je||(Je=Object(d.a)(["\n  cursor: pointer;\n  font-size: 14px;\n  border: 1px solid transparent;\n  border-radius: 5px;\n  color: #f7f5f5;\n  background: #db4c3f;\n  padding: 6px 8px;\n  margin-right: 8px;\n\n  &:focus {\n    outline: none;\n  }\n\n  &:hover {\n    transform: scale(1.01);\n  }\n"]))),qe=h.b.h5($e||($e=Object(d.a)(["\n  font-size: 16px;\n  color: #bdbdbd;\n  margin: 5px 0;\n"])));function Ge(n){var e=n.post,t=n.handleDeletePost,r=Object(p.useContext)(O).user;return Object(k.jsxs)(Re,{children:[Object(k.jsx)(Le,{to:"/article/".concat(e.id),children:e.title}),Object(k.jsxs)(He,{children:[r&&r.id===e.userId&&Object(k.jsx)(Ye,{onClick:function(){t(e.id)},children:"\u522a\u9664"}),Object(k.jsx)(qe,{children:e&&ln(e.createdAt)})]})]})}function Ke(){var n=Object(p.useState)([]),e=Object(l.a)(n,2),t=e[0],r=e[1],o=Object(p.useState)(1),c=Object(l.a)(o,2),i=c[0],a=c[1],b=Object(p.useRef)();Object(p.useEffect)((function(){M().then((function(n){b.current=function(n){for(var e=[],t=1;t<=n;t++)e.push(t);return e}(Math.ceil(n.length/5)),L(1,5).then((function(n){return r(n)}))}))}),[a]);var s=function(n){(function(n){var e=v();return fetch("".concat(I,"/posts/").concat(n),{method:"DELETE",headers:{authorization:"Bearer ".concat(e)}}).then((function(n){return n.json()}))})(n).then((function(){L(1,5).then((function(n){r(n),a(1)})).catch((function(n){console.log(n)}))}))};return Object(k.jsxs)(Ie,{children:[Object(k.jsx)(Me,{children:"\u6587\u7ae0\u5217\u8868"}),t.map((function(n){return Object(k.jsx)(Ge,{post:n,handleDeletePost:s},n.id)})),Object(k.jsx)(Te,{totalPages:b,limit:5,setPosts:r,currentPage:i,setCurrentPage:a})]})}var Qe,Ve=function(){var n=Object(p.useState)(null),e=Object(l.a)(n,2),t=e[0],r=e[1];return Object(p.useEffect)((function(){v()&&R().then((function(n){n.ok&&r(n.data)}))}),[]),Object(k.jsx)(O.Provider,{value:{user:t,setUser:r},children:Object(k.jsx)("div",{children:Object(k.jsxs)(u.a,{children:[Object(k.jsx)(A,{}),Object(k.jsxs)(f.c,{children:[Object(k.jsx)(f.a,{exact:!0,path:"/",children:Object(k.jsx)(Sn,{})}),Object(k.jsx)(f.a,{path:"/post-list/",children:Object(k.jsx)(Ke,{})}),Object(k.jsx)(f.a,{path:"/about",children:Object(k.jsx)(Xn,{})}),Object(k.jsx)(f.a,{path:"/register",children:Object(k.jsx)($n,{})}),Object(k.jsx)(f.a,{path:"/article/:id",children:Object(k.jsx)(fe,{})}),Object(k.jsx)(f.a,{path:"/login",children:Object(k.jsx)(X,{})}),Object(k.jsx)(f.a,{path:"/post",children:Object(k.jsx)(Pe,{})})]})]})})})},We=Object(h.a)(Qe||(Qe=Object(d.a)(["\n  body {\n    background: #ebebeb;\n  }\n"])));j.a.render(Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(We,{}),Object(k.jsx)(Ve,{})]}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.1a302e7d.chunk.js.map